{% extends 'base.html' %}

{% block admin %}class="active"{% endblock %}

<h1>{% block title %}Event {{ event.Name }}{% endblock %}</h1>

{% block content %}

<h2>All Timeslots of {{ event.Name }}:</h2>
<table class="table table-striped table-hover">
  <tr>
    <th>ID</th>
    <th>Date</th>
    <th>Start <br> Time</th>
    <th>End <br> Time</th>
    <th>Nr <br> Couples</th>
    <th>Age <br> Range</th>
    <th>Special <br> Slot</th>
    <th>
      <button style="float:right" type="button" class="btn btn-default btn-s" onclick="window.location.href='{{ url_for('create_timeslot', event_id = event.ID) }}'">
	<span class="glyphicon glyphicon-plus"></span>
      </button>
    </th>
  </tr>
  {% for s in slots %}
  <tr onclick="window.location.href='{{ url_for('timeslot_view', timeslot_id = s.ID) }}'">
    <td>{{ s.ID }}</td>
    <td>{{ s.Date.strftime("%A %d. %B %Y") }}</td>
    <td>{{ s.StartTime }}</td>
    <td>{{ s.EndTime }}</td>
    <td>{{ s.NrCouples }}</td>
    {% if s.AgeRange == 0 %}
    <td> < 22 </td>
    {% elif s.AgeRange == 1 %}
    <td> 22-25 </td>
    {% elif s.AgeRange == 2 %}
    <td> > 25 </td>
    {% else %}
    <td> does not matter </td>
    {% endif %}
    {% if s.SpecialSlot == 0 %}
    <td> - </td>
    {% elif s.SpecialSlot == 1 %}
    <td> {{ event.SpecialSlotsName }} </td>
    {% endif %}
    <td></td>
  </tr>
  <tr>
  </tr>
  {% else %}
  <tr>
    <td>No existing timeslots!</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  {% endfor %}
</table>

<button class="btn btn-default btn-s" onclick="window.location.href='{{ url_for('event_participants', event_id = event.ID) }}'"> See all Participants </button>

{% endblock %}
